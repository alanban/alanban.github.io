<html>
<head>
  <title>GitHub控件之BadgeView（数字提醒）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303502 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="729"/>
<h1>GitHub控件之BadgeView（数字提醒）</h1>

<div>
<span><div><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;"> 转载请注明出处：<a href="http://blog.csdn.net/crazy1235/article/details/42262369" target="_blank">http://blog.csdn.net/crazy1235/article/details/42262369</a></span></p><div style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(85, 85, 85);"><span style="font-family: 'Courier New'; font-size: 18px;">    数字提醒大家肯定都见识过。QQ、微信等app</span><span style="font-family: 'Courier New'; font-size: 18px;">中如果有消息或者提醒的时候，就会展现给用户一个红点或者带有数字的点。前段时间微信上流行把自己的头像换成带有数字提醒的头像，让那些有强迫症的人真是抓狂。</span></span></div><div><img src="GitHub控件之BadgeView（数字提醒）_files/20141230102251478.png" type="image/png"/></div><div><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">下面我们就看一下怎么在自己的app中实现这种效果。</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">    开发者当然可以自己用相对布局来实现这样的效果。一个还好，但是多了呢！就会很繁琐。<a href="https://github.com/" target="_blank">GitHub</a>上有一个开源的第三方控件，叫做<a href="https://github.com/stefanjauker/BadgeView" target="_blank">BadgeView</a>。使用它可以很方面的实现想要的效果。</span></p><div style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(85, 85, 85);"><span style="font-family: 'Courier New'; font-size: 18px;">    先来怎么使用，简单的三行代码就可以实现数字提醒：</span></span></div><ul><li style="color: inherit; font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="color: black; background-color: inherit;"><span style="background-color: inherit;"><br/>
BadgeView badgeView = </span><span style="color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">new</span><span style="background-color: inherit;"> com.jauker.widget.BadgeView(</span><span style="color: rgb(0, 102, 153); font-weight: bold; background-color: inherit;">this</span><span style="background-color: inherit;">);  </span></span></li><li style="color: rgb(92, 92, 92); font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(248, 248, 248);"><span style="color: black; background-color: inherit;">badgeView.setTargetView(textView);  </span></li><li style="color: inherit; font-family: Consolas, 'Courier New', Courier, mono, serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="color: black; background-color: inherit;">badgeView.setBadgeCount(<span style="color: rgb(192, 0, 0); background-color: inherit;">3</span><span style="background-color: inherit;">);  </span></span></li></ul><div style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="font-size: 12px;"><span style="font-family: Consolas, 'Courier New', Courier, mono, serif;"><span style="background-color: inherit;"><br/></span></span></span></div><div><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);">    看一下badgeview中常用的方法：</span><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">1. setTargetView(View) --&gt; 设置哪个控件显示数字提醒，参数就是一个view对象</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">2. setBadgeCount(int) --&gt; 设置提醒的数字</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">3. setBadgeGravity(Gravity) --&gt; 设置badgeview的显示位置</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">4. setBackgroundColor() --&gt; 设置badgeview的背景色，当然还可以设置背景图片</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">5. setBackgroundResource() --&gt; 设置背景图片</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">6. setTypeface() --&gt; 设置显示的字体</span></p><div style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="color: rgb(85, 85, 85);"><span style="font-family: 'Courier New'; font-size: 18px;">7. setShadowLayer() --&gt; 设置字体的阴影</span></span></div><div><span style="color: rgb(85, 85, 85);"><span style="font-size: 15px;"><span style="font-family: 'microsoft yahei';"><span style="font-size: 18px;"><span style="font-family: 'Courier New';"><br/></span></span></span></span></span></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>- badgeView = new BadgeView(this);</div><div>-         badgeView.setTargetView(layout);</div><div>-         badgeView.setBackground(12, Color.parseColor(&quot;#9b2eef&quot;));</div><div>-         badgeView.setText(&quot;提示&quot;);</div></div><div><span style="color: rgb(85, 85, 85);"><span style="font-size: 15px;"><span style="font-family: 'microsoft yahei';"><span style="font-size: 18px;"><span style="font-family: 'Courier New';"><br/></span></span></span></span></span></div><div><span style="color: rgb(85, 85, 85);"><span style="font-size: 15px;"><span style="font-family: 'microsoft yahei';"><span style="font-size: 18px;"><span style="font-family: 'Courier New';"><br/></span></span></span></span></span></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>- badgeView = new BadgeView(this);</div><div>-         badgeView.setTargetView(layout);</div><div>-         badgeView.setBadgeGravity(Gravity.BOTTOM | Gravity.CENTER);</div><div>-         badgeView.setBadgeCount(4);</div></div><div><span style="color: rgb(85, 85, 85);"><span style="font-size: 15px;"><span style="font-family: 'microsoft yahei';"><span style="font-size: 18px;"><span style="font-family: 'Courier New';"><br/></span></span></span></span></span></div><div><span style="color: rgb(85, 85, 85);"><span style="font-size: 15px;"><span style="font-family: 'microsoft yahei';"><span style="font-size: 18px;"><span style="font-family: 'Courier New';"><br/></span></span></span></span></span></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>- badgeView = new BadgeView(this);</div><div>-         badgeView.setTargetView(layout);</div><div>-         badgeView.setBadgeGravity(Gravity.TOP | Gravity.LEFT);</div><div>-         badgeView.setTypeface(Typeface.create(Typeface.SANS_SERIF,</div><div>-                 Typeface.ITALIC));</div><div>-         badgeView.setShadowLayer(2, -1, -1, Color.GREEN);</div><div>-         badgeView.setBadgeCount(2);</div></div><div><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">实际上BadgeView这个类就是继承TextView的。很多TextView中设置字体的方法都适用于BadgeView。</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;"><br/></span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">    OK。效果实现完毕。</span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;"><br/></span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">    <a href="https://github.com/stefanjauker/BadgeView" target="_blank">BadgeView下载链接</a></span></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; font-size: 15px; background-color: rgb(255, 255, 255);"><span style="font-family: 'Courier New'; font-size: 18px;">    <a href="http://download.csdn.net/detail/crazy1235/8313527" target="_blank">badgeview.jar下载</a></span></p><div style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(85, 85, 85); font-family: 'microsoft yahei'; background-color: rgb(255, 255, 255); font-size: 15px;"><div><span style="font-family: 'Courier New'; font-size: 18px;">    <a href="http://download.csdn.net/detail/crazy1235/8314565" target="_blank">DEMO下载</a></span></div></div></div></div></div></div></div></div></div></div></span>
</div></body></html> 