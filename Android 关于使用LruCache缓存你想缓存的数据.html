<html>
<head>
  <title>Android 关于使用LruCache缓存你想缓存的数据</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303502 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="620"/>
<h1>Android 关于使用LruCache缓存你想缓存的数据</h1>

<div>
<span><div><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><strong>今天我们来一起学习一下缓存技术，相信大家做开发的时候都知道请求网络数据的重要，但是有一些只用请求一次就过时性的消息比如某些新闻信息，如果我们每次进入新闻界面就从新从网络上获取势必会给用户带来不好的体验，所以我们需要缓存技术来帮我们解决这一问题。</strong></p><h2 style="font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; background-color: rgb(249, 249, 249);">1,LruCache介绍</h2><h2 style="font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; background-color: rgb(249, 249, 249);">核心的类是LruCache (此类在android-support-v4的包中提供) 。这个类非常适合用来缓存图片，它的主要算法原理是把最近使用的对象用强引用存储在 LinkedHashMap 中，并且把最近最少使用的对象在缓存值达到预设定值之前从内存中移除。</h2><h2 style="font-style: normal; font-variant: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; background-color: rgb(249, 249, 249);">在过去，我们经常会使用一种非常流行的内存缓存技术的实现，即软引用或弱引用 (SoftReference or WeakReference)。但是现在已经不再推荐使用这种方式了，因为从 <a href="http://www.2cto.com/kf/yidong/Android/" target="_blank">Android</a> 2.3 (API Level 9)开始，垃圾回收器会更倾向于回收持有软引用或弱引用的对象，这让软引用和弱引用变得不再可靠。另外，Android 3.0 (API Level 11)中，图片的数据会存储在本地的内存当中，因而无法用一种可预见的方式将其释放，这就有潜在的风险造成应用程序的内存溢出并崩溃。</h2><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);">2,LruCache使用 下面我们就来写一个简单的demo来学习LruCache，效果也是每次请求一次第二次直接从缓存中提取出来不用再次请求网络</span><div style="word-wrap: break-word; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><div style="word-wrap: break-word; padding: 0px; margin: 1em 0px !important; font-size: 1em !important; background-color: white !important;"><div style="word-wrap: break-word; border: none !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; color: white !important; background: rgb(108, 226, 108) !important;"><a href="http://www.2cto.com/kf/201502/376042.html#">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 652px; border: 0px !important; padding: 0px !important; margin: 0px !important; height: auto !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; background: none !important;"><tbody><tr><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; color: rgb(175, 175, 175) !important; background: none !important;"><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">1</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">2</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">3</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">4</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">5</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">6</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">7</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">8</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">9</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">10</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">11</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">12</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">13</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">14</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">15</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">16</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">17</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">18</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">19</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">20</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">21</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">22</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">23</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">24</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">25</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">26</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">27</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">28</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">29</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">30</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">31</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">32</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">33</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">34</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">35</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">36</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">37</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">38</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">39</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">40</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">41</div></td><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">/**</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * 缓存json数据</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     */</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateLruCache&lt;integer, string=&quot;&quot;&gt; mJsonCache;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    /**</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * 缓存图片信息</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     */</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateLruCache&lt;integer, bitmap=&quot;&quot;&gt; mBitmapCache;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicUtil() {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mJsonCache =newLruCache&lt;integer, string=&quot;&quot;&gt;(1*1024*1024);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mBitmapCache =newLruCache&lt;integer, bitmap=&quot;&quot;&gt;(2*1024*1024);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    /**</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * 添加进入缓存列表</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     *</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * @param key</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * @param value</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     */</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicvoidaddJsonLruCache(Integer key, String value) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mJsonCache.put(key, value);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicvoidaddBitmapLruCache(Integer key, Bitmap value) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mBitmapCache.put(key, value);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    /**</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * 从缓存列表中拿出来</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     *</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * @param key</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     * @return</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">     */</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicString getJsonLruCache(Integer key) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        returnmJsonCache.get(key);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicBitmap getBitmapLruCache(Integer key) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        returnmBitmapCache.get(key);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }&lt;/integer,&gt;&lt;/integer,&gt;&lt;/integer,&gt;&lt;/integer,&gt;</div></div></td></tr></tbody></table></div></div><br style="color: rgb(0, 0, 0); font-family: 'sans serif', tahoma, verdana, helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);">可以看到我们准备缓存Bitmap与String，只需要拿到信息的时候put进缓存中，需要的时候get出来，是不是非常简单，我们为我们String分配了1m为我们的Bitmap分配了2m空间，这只是我们的demo为了简单这样使用，实际上我们应该更加详细的考虑到底应该为缓存分配多大的空间</span><div style="word-wrap: break-word; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><div style="word-wrap: break-word; padding: 0px; margin: 1em 0px !important; font-size: 1em !important; background-color: white !important;"><div style="word-wrap: break-word; border: none !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; color: white !important; background: rgb(108, 226, 108) !important;"><a href="http://www.2cto.com/kf/201502/376042.html#">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 613px; border: 0px !important; padding: 0px !important; margin: 0px !important; height: auto !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; background: none !important;"><tbody><tr><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; color: rgb(175, 175, 175) !important; background: none !important;"><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">1</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">2</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">3</div></td><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">// 获取到可用内存的最大值，使用内存超出这个值会引起OutOfMemory异常。</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">// LruCache通过构造函数传入缓存值，以KB为单位。</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">intmaxMemory = (int) (Runtime.getRuntime().maxMemory() /1024);</div></div></td></tr></tbody></table></div></div><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);">一般来说最大值的1/8左右就可以了。</span><br style="color: rgb(0, 0, 0); font-family: 'sans serif', tahoma, verdana, helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><div style="word-wrap: break-word; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><div style="word-wrap: break-word; padding: 0px; margin: 1em 0px !important; font-size: 1em !important; background-color: white !important;"><div style="word-wrap: break-word; border: none !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; color: white !important; background: rgb(108, 226, 108) !important;"><a href="http://www.2cto.com/kf/201502/376042.html#">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 668px; border: 0px !important; padding: 0px !important; margin: 0px !important; height: auto !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; background: none !important;"><tbody><tr><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; color: rgb(175, 175, 175) !important; background: none !important;"><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">1</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">2</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">3</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">4</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">5</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">6</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">7</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">8</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">9</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">10</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">11</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">12</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">13</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">14</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">15</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">16</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">17</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">18</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">19</div></td><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">publicclassMainActivityextendsActivityimplementsOnItemClickListener {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privatestaticfinalString LIST_DATA = http://api.yi18.net/top/list;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateListView mListView;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateArrayAdapter&lt;string&gt; mAdapter;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateArrayList&lt;integer&gt; mListId;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateUtil util;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    protectedvoidonCreate(Bundle savedInstanceState) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        super.onCreate(savedInstanceState);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        setContentView(R.layout.activity_main);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        util =newUtil();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mListView = (ListView) findViewById(R.id.list);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mListId =newArrayList&lt;integer&gt;();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mAdapter =newArrayAdapter&lt;string&gt;(this,</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                android.R.layout.simple_list_item_1);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mListView.setAdapter(mAdapter);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        mListView.setOnItemClickListener(this);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        newDownLoadJson().execute(LIST_DATA);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }&lt;/string&gt;&lt;/integer&gt;&lt;/integer&gt;&lt;/string&gt;</div></div></td></tr></tbody></table></div></div><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);">这一段就是普通的请求数据添加到ListView中。</span><div style="word-wrap: break-word; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><div style="word-wrap: break-word; padding: 0px; margin: 1em 0px !important; font-size: 1em !important; background-color: white !important;"><div style="word-wrap: break-word; border: none !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; color: white !important; background: rgb(108, 226, 108) !important;"><a href="http://www.2cto.com/kf/201502/376042.html#">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 668px; border: 0px !important; padding: 0px !important; margin: 0px !important; height: auto !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; background: none !important;"><tbody><tr><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; color: rgb(175, 175, 175) !important; background: none !important;"><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">1</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">2</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">3</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">4</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">5</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">6</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">7</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">8</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">9</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">10</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">11</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">12</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">13</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">14</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">15</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">16</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">17</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">18</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">19</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">20</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">21</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">22</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">23</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">24</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">25</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">26</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">27</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">28</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">29</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">30</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">31</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">32</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">33</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">34</div></td><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">privatevoidgetJsonData(String json) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        try{</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            JSONObject jsonObject =newJSONObject(json);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            if(jsonObject.getBoolean(success)) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                JSONArray jsonArray = jsonObject.getJSONArray(yi18);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                for(inti =0; i &lt; jsonArray.length(); i++) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                    JSONObject jsonObject2 = (JSONObject) jsonArray.opt(i);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                    if(i &lt;5) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                        mAdapter.add(jsonObject2.getString(title));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                        mListId.add(jsonObject2.getInt(id));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }catch(JSONException e) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            // TODO Auto-generated catch block</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            e.printStackTrace();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    classDownLoadJsonextendsAsyncTask&lt;string, string=&quot;&quot;&gt; {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        @Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        protectedString doInBackground(String... params) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            returnutil.downLoadJson(params[0]);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        @Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        protectedvoidonPostExecute(String result) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            if(result !=null) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                getJsonData(result);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }&lt;/string,&gt;</div></div></td></tr></tbody></table></div></div><img src="Android 关于使用LruCache缓存你想缓存的数据_files/Image.png" type="image/png" alt="data-cke-saved-src=http://www.2cto.com/uploadfile/Collfiles/20150207/20150207084912191.png" style="border: 0px; color: rgb(0, 0, 0); font-family: 'sans serif', tahoma, verdana, helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; height: 560px; width: 348.325358851675px;"/><br style="color: rgb(0, 0, 0); font-family: 'sans serif', tahoma, verdana, helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><strong>我们就简单的取了前五条数据用来模拟我们的新闻，用的是热点热词的Api。</strong></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><strong>3,缓存</strong></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><div style="word-wrap: break-word; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><div style="word-wrap: break-word; padding: 0px; margin: 1em 0px !important; font-size: 1em !important; background-color: white !important;"><div style="word-wrap: break-word; border: none !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; color: white !important; background: rgb(108, 226, 108) !important;"><a href="http://www.2cto.com/kf/201502/376042.html#">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 764px; border: 0px !important; padding: 0px !important; margin: 0px !important; height: auto !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; background: none !important;"><tbody><tr><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; color: rgb(175, 175, 175) !important; background: none !important;"><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">1</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">2</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">3</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">4</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">5</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">6</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">7</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">8</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">9</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">10</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">11</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">12</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">13</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">14</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">15</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">16</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">17</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">18</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">19</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">20</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">21</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">22</div></td><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">@Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicvoidonItemClick(AdapterView&lt;!--?--&gt; arg0, View arg1,intarg2,longarg3) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        // TODO Auto-generated method stub</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        String message = util.getJsonLruCache(mListId.get(arg2));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        Bitmap bitmap = util.getBitmapLruCache(mListId.get(arg2));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        if(message !=null) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            intentNewsInfo(arg2, message, bitmap);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }else{</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            intentNewsInfo(arg2,null,null);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicvoidintentNewsInfo(intarg2, String message, Bitmap bitmap) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        Intent intent =newIntent(MainActivity.this, NewsinfoActivity.class);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        intent.putExtra(message, message);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        intent.putExtra(bitmap, bitmap);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        intent.putExtra(index, arg2);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        intent.putExtra(id, mListId.get(arg2));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        startActivityForResult(intent,100);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div></div></td></tr></tbody></table></div></div><br style="color: rgb(0, 0, 0); font-family: 'sans serif', tahoma, verdana, helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);">可以看到我们这里先是查找缓存中是否存在数据如果存在直接传给新闻详情界面，如果没有则在第二个界面获取再传回来。</span><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><div style="word-wrap: break-word; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><div style="word-wrap: break-word; padding: 0px; margin: 1em 0px !important; font-size: 1em !important; background-color: white !important;"><div style="word-wrap: break-word; border: none !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; color: white !important; background: rgb(108, 226, 108) !important;"><a href="http://www.2cto.com/kf/201502/376042.html#">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 1188px; border: 0px !important; padding: 0px !important; margin: 0px !important; height: auto !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; background: none !important;"><tbody><tr><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; color: rgb(175, 175, 175) !important; background: none !important;"><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">1</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">2</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">3</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">4</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">5</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">6</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">7</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">8</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">9</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">10</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">11</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">12</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">13</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">14</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">15</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">16</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">17</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">18</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">19</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">20</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">21</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">22</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">23</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">24</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">25</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">26</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">27</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">28</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">29</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">30</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">31</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">32</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">33</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">34</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">35</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">36</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">37</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">38</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">39</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">40</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">41</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">42</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">43</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">44</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">45</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">46</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">47</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">48</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">49</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">50</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">51</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">52</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">53</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">54</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">55</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">56</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">57</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">58</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">59</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">60</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">61</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">62</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">63</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">64</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">65</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">66</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">67</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">68</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">69</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">70</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">71</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">72</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">73</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">74</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">75</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">76</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">77</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">78</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">79</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">80</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">81</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">82</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">83</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">84</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">85</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">86</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">87</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">88</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">89</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">90</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">91</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">92</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">93</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">94</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">95</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">96</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">97</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">98</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">99</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">100</div></td><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">publicclassNewsinfoActivityextendsActivity {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateString NEWS_INFO = http://api.yi18.net/top/show?id=;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateString imageRes[] = {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            http://d.hiphotos.baidu.com/image/h%3D360/sign=405b763459afa40f23c6c8db9b65038c/562c11dfa9ec8a13508c96e6f403918fa0ecc026.jpg,</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            http://c.hiphotos.baidu.com/image/h%3D360/sign=798b4f82caea15ce5eeee60f86013a25/9c16fdfaaf51f3dece3f986397eef01f3a297923.jpg,</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            http://f.hiphotos.baidu.com/image/h%3D360/sign=20a94e03940a304e4d22a6fce1c9a7c3/ac4bd11373f082028719ab3848fbfbedab641b29.jpg,</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            http://b.hiphotos.baidu.com/image/h%3D360/sign=3a1af7349145d688bc02b4a294c37dab/4b90f603738da977c0f5b82cb351f8198718e3db.jpg,</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            http://d.hiphotos.baidu.com/image/h%3D360/sign=75e596560f33874483c5297a610ed937/55e736d12f2eb9381891b2f4d6628535e5dd6f3c.jpg };</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateIntent intent;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateUtil util;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateintnewId, index;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateImageView imageView;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateTextView textView;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateBitmap bitmap;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privateString message;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    protectedvoidonCreate(Bundle savedInstanceState) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        super.onCreate(savedInstanceState);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        setContentView(R.layout.activity_newsinfo);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        intent = getIntent();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        util =newUtil();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        imageView = (ImageView) findViewById(R.id.image);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        textView = (TextView) findViewById(R.id.message);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        newId = intent.getExtras().getInt(id);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        index = intent.getExtras().getInt(index);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        if(intent.getExtras().getString(message) !=null) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            message = intent.getExtras().getString(message);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            bitmap = intent.getParcelableExtra(bitmap);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            textView.setText(Html.fromHtml(message));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            imageView.setImageBitmap(bitmap);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            Toast.makeText(this, 没有访问网络哦,2000).show();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }else{</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            newDownLoadJson().execute(NEWS_INFO + newId);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            newDownLoadBitmap().execute(imageRes[index]);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            Toast.makeText(this, 访问网络哦,2000).show();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    @Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    publicvoidonBackPressed() {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        Intent dataIntent =newIntent();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        dataIntent.putExtra(message, message);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        dataIntent.putExtra(bitmap, bitmap);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        dataIntent.putExtra(newId, newId);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        setResult(20, dataIntent);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        finish();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        super.onBackPressed();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    privatevoidgetJsonData(String json) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        try{</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            JSONObject jsonObject =newJSONObject(json);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            if(jsonObject.getBoolean(success)) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                JSONObject jsonObject2 =newJSONObject(</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                        jsonObject.getString(yi18));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                message = jsonObject2.getString(message);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                textView.setText(Html.fromHtml(jsonObject2.getString(message)));</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }catch(JSONException e) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            // TODO Auto-generated catch block</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            e.printStackTrace();</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    classDownLoadJsonextendsAsyncTask&lt;string, string=&quot;&quot;&gt; {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        @Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        protectedString doInBackground(String... params) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            returnutil.downLoadJson(params[0]);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        @Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        protectedvoidonPostExecute(String result) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            if(result !=null) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                getJsonData(result);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    classDownLoadBitmapextendsAsyncTask&lt;string, bitmap=&quot;&quot;&gt; {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        @Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        protectedBitmap doInBackground(String... params) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            // TODO Auto-generated method stub</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            returnutil.downLoadBitmap(params[0]);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        @Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        protectedvoidonPostExecute(Bitmap result) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            if(result !=null) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                bitmap = result;</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">                imageView.setImageBitmap(result);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">            }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">        }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    }</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;"> </div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">}&lt;/string,&gt;&lt;/string,&gt;</div></div></td></tr></tbody></table></div></div><br style="color: rgb(0, 0, 0); font-family: 'sans serif', tahoma, verdana, helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);">这就比较清晰明白了，每次我们都把这个界面获取到的信息存到LruCache里面。</span><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><div style="word-wrap: break-word; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; padding: 0px; margin: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><div style="word-wrap: break-word; padding: 0px; margin: 1em 0px !important; font-size: 1em !important; background-color: white !important;"><div style="word-wrap: break-word; border: none !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 10px !important; color: white !important; background: rgb(108, 226, 108) !important;"><a href="http://www.2cto.com/kf/201502/376042.html#">?</a></div><table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse; width: 692px; border: 0px !important; padding: 0px !important; margin: 0px !important; height: auto !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; font-size: 1em !important; background: none !important;"><tbody><tr><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; color: rgb(175, 175, 175) !important; background: none !important;"><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">1</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">2</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">3</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">4</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">5</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">6</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">7</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">8</div><div style="word-wrap: break-word; padding: 0px 0.5em 0px 1em !important; margin: 0px !important; text-align: right !important; vertical-align: baseline !important; font-size: 1em !important;">9</div></td><td style="font-style: normal; font-variant: normal; font-weight: normal; font-stretch: normal; font-size: 1em !important; font-family: Consolas, 'Bitstream Vera Sans Mono', 'Courier New', Courier, monospace !important; border: 0px !important; vertical-align: baseline !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important; background: none !important;"><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">@Override</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">protectedvoidonActivityResult(intrequestCode,intresultCode, Intent data) {</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    intnewId = data.getExtras().getInt(newId);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    String message = data.getExtras().getString(message);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    Bitmap bitmap = data.getParcelableExtra(bitmap);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    util.addJsonLruCache(newId, message);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    util.addBitmapLruCache(newId, bitmap);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">    super.onActivityResult(requestCode, resultCode, data);</div><div style="word-wrap: break-word; border: 0px !important; padding: 0px 1em !important; margin: 0px !important; vertical-align: baseline !important; font-size: 1em !important;">}</div></div></td></tr></tbody></table></div></div><br style="color: rgb(0, 0, 0); font-family: 'sans serif', tahoma, verdana, helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px;"/><span style="font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);">4,效果</span><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"><img alt="data-cke-saved-src=http://www.2cto.com/uploadfile/Collfiles/20150207/20150207084914192.gif" src="http://www.2cto.com/uploadfile/Collfiles/20150207/20150207084914192.gif" style="border: 0px; height: 560px; width: 344px;"></img></p><p style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; background-color: rgb(249, 249, 249);"> </p><div style="word-wrap: break-word; margin: 5px 0px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-indent: 2em; color: rgb(51, 51, 51); font-family: 宋体; background-color: rgb(249, 249, 249); font-size: 14px;"><div> </div></div></div></span>
</div></body></html> 